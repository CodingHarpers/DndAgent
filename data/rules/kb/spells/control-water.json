{
  "entity_name": "Control Water",
  "logic_type": "spell_mechanic",
  "mechanics": [
    {
      "type": "grant",
      "trigger": "Spell Cast",
      "condition": "Caster targets a cube up to 100 feet on a side",
      "outcome": "Caster controls freestanding water within the area for spell duration",
      "related_search_terms": [
        "water manipulation",
        "area control"
      ]
    },
    {
      "type": "effect",
      "trigger": "Action on Caster's Turn",
      "condition": "Spell is active",
      "outcome": "Caster can choose or repeat one of the four effects (Flood, Part Water, Redirect Flow, Whirlpool)",
      "related_search_terms": [
        "change spell effect",
        "maintain spell"
      ]
    },
    {
      "type": "effect",
      "trigger": "Flood effect chosen",
      "condition": "Area contains standing water",
      "outcome": "Water level rises by up to 20 feet",
      "related_search_terms": [
        "flood area",
        "raise water level"
      ]
    },
    {
      "type": "effect",
      "trigger": "Flood effect chosen",
      "condition": "Area includes a shore",
      "outcome": "Flooding water spills onto dry land",
      "related_search_terms": [
        "coastal flood",
        "land inundation"
      ]
    },
    {
      "type": "effect",
      "trigger": "Flood effect chosen",
      "condition": "Area is in a large body of water",
      "outcome": "A 20-foot tall wave travels across the area and crashes down",
      "related_search_terms": [
        "tidal wave",
        "ocean wave"
      ]
    },
    {
      "type": "effect",
      "trigger": "Wave created by Flood effect",
      "condition": "Huge or smaller vehicle in wave's path",
      "outcome": "Vehicle is carried to the other side of the area",
      "related_search_terms": [
        "ship movement",
        "boat pushed"
      ]
    },
    {
      "type": "effect",
      "trigger": "Wave created by Flood effect",
      "condition": "Huge or smaller vehicle struck by wave",
      "outcome": "Vehicle has a 25% chance of capsizing",
      "related_search_terms": [
        "boat capsizing",
        "shipwreck"
      ]
    },
    {
      "type": "effect",
      "trigger": "Flood effect ends",
      "condition": "Previously elevated water level",
      "outcome": "Water level returns to normal",
      "related_search_terms": [
        "water recedes"
      ]
    },
    {
      "type": "effect",
      "trigger": "Start of Caster's Turn",
      "condition": "Flood effect is active AND produced a wave",
      "outcome": "The wave repeats",
      "related_search_terms": [
        "repeated waves",
        "continuous wave"
      ]
    },
    {
      "type": "effect",
      "trigger": "Part Water effect chosen",
      "condition": "Area contains water",
      "outcome": "Water moves apart, creating a trench across the area with water walls on either side",
      "related_search_terms": [
        "create trench",
        "divide water",
        "sea parting"
      ]
    },
    {
      "type": "effect",
      "trigger": "Part Water effect ends",
      "condition": "Trench exists",
      "outcome": "Water slowly fills the trench over the next round until normal water level is restored",
      "related_search_terms": [
        "trench refill",
        "water closing"
      ]
    },
    {
      "type": "effect",
      "trigger": "Redirect Flow effect chosen",
      "condition": "Area contains flowing water",
      "outcome": "Flowing water moves in a direction chosen by the caster, even over obstacles or up walls, until effect ends",
      "related_search_terms": [
        "change river direction",
        "divert water",
        "water flow control"
      ]
    },
    {
      "type": "constraint",
      "trigger": "Flowing water leaves spell area (Redirect Flow)",
      "condition": "Water moves beyond the spell's area",
      "outcome": "Water resumes its flow based on terrain conditions",
      "related_search_terms": [
        "spell boundary",
        "flow limit"
      ]
    },
    {
      "type": "constraint",
      "trigger": "Whirlpool effect chosen",
      "condition": "Body of water is at least 50 feet square AND 25 feet deep",
      "outcome": "A whirlpool forms in the center of the area (5-50ft wide, 25ft tall vortex)",
      "related_search_terms": [
        "create whirlpool",
        "water vortex"
      ]
    },
    {
      "type": "effect",
      "trigger": "Whirlpool effect active",
      "condition": "Creature or object in water and within 25 feet of the vortex",
      "outcome": "Creature or object is pulled 10 feet toward the vortex",
      "related_search_terms": [
        "water suction",
        "pulled into vortex"
      ]
    },
    {
      "type": "grant",
      "trigger": "Creature is within 25 feet of Whirlpool vortex",
      "condition": "Creature is in water",
      "outcome": "Creature can attempt to swim away by making a Strength (Athletics) check against Caster's spell save DC",
      "related_search_terms": [
        "escape whirlpool",
        "swim check"
      ]
    },
    {
      "type": "effect",
      "trigger": "Creature enters Whirlpool vortex for the first time on a turn OR starts its turn there",
      "condition": "Whirlpool effect is active",
      "outcome": "Creature must make a Strength saving throw",
      "related_search_terms": [
        "whirlpool damage",
        "caught in current"
      ]
    },
    {
      "type": "effect",
      "trigger": "Strength saving throw (Whirlpool) failed",
      "condition": "Creature entered/started turn in vortex",
      "outcome": "Creature takes 2d8 bludgeoning damage and is caught in the vortex until the spell ends",
      "related_search_terms": [
        "bludgeoning damage",
        "grappled by water",
        "whirlpool trapped"
      ]
    },
    {
      "type": "effect",
      "trigger": "Strength saving throw (Whirlpool) succeeded",
      "condition": "Creature entered/started turn in vortex",
      "outcome": "Creature takes half damage and is not caught in the vortex",
      "related_search_terms": [
        "half damage",
        "avoid whirlpool trap"
      ]
    },
    {
      "type": "grant",
      "trigger": "Creature caught in Whirlpool vortex",
      "condition": "Creature is able to take an action",
      "outcome": "Creature can use its action to attempt to swim away, making a Strength (Athletics) check with disadvantage against Caster's spell save DC",
      "related_search_terms": [
        "struggle to escape",
        "disadvantage escape"
      ]
    },
    {
      "type": "effect",
      "trigger": "Object enters Whirlpool vortex for the first time each turn",
      "condition": "Whirlpool effect is active",
      "outcome": "Object takes 2d8 bludgeoning damage",
      "related_search_terms": [
        "object damage",
        "debris damage"
      ]
    },
    {
      "type": "effect",
      "trigger": "Object remains in Whirlpool vortex",
      "condition": "Object is in vortex at start of each round",
      "outcome": "Object takes 2d8 bludgeoning damage each round",
      "related_search_terms": [
        "continuous damage",
        "object destruction"
      ]
    }
  ],
  "description_text": "Until the spell ends, you control any freestanding water inside an area you choose that is a cube up to 100 feet on a side. You can choose from any of the following effects when you cast this spell. As an action on your turn, you can repeat the same effect or choose a different one.\n***Flood.*** You cause the water level of all standing water in the area to rise by as much as 20 feet. If the area includes a shore, the flooding water spills over onto dry land.\nIf you choose an area in a large body of water, you instead create a 20-foot tall wave that travels from one side of the area to the other and then crashes down. Any Huge or smaller vehicles in the wave's path are carried with it to the other side. Any Huge or smaller vehicles struck by the wave have a 25 percent chance of capsizing.\nThe water level remains elevated until the spell ends or you choose a different effect. If this effect produced a wave, the wave repeats on the start of your next turn while the flood effect lasts.\n***Part Water.*** You cause water in the area to move apart and create a trench. The trench extends across the spell's area, and the separated water forms a wall to either side. The trench remains until the spell ends or you choose a different effect. The water then slowly fills in the trench over the course of the next round until the normal water level is restored.\n***Redirect Flow.*** You cause flowing water in the area to move in a direction you choose, even if the water has to flow over obstacles, up walls, or in other unlikely directions. The water in the area moves as you direct it, but once it moves beyond the spell's area, it resumes its flow based on the terrain conditions. The water continues to move in the direction you chose until the spell ends or you choose a different effect.\n***Whirlpool.*** This effect requires a body of water at least 50 feet square and 25 feet deep. You cause a whirlpool to form in the center of the area. The whirlpool forms a vortex that is 5 feet wide at the base, up to 50 feet wide at the top, and 25 feet tall. Any creature or object in the water and within 25 feet of the vortex is pulled 10 feet toward it. A creature can swim away from the vortex by making a Strength (Athletics) check against your spell save DC.\nWhen a creature enters the vortex for the first time on a turn or starts its turn there, it must make a strength saving throw. On a failed save, the creature takes 2d8 bludgeoning damage and is caught in the vortex until the spell ends. On a successful save, the creature takes half damage, and isn't caught in the vortex. A creature caught in the vortex can use its action to try to swim away from the vortex as described above, but has disadvantage on the Strength (Athletics) check to do so.\nThe first time each turn that an object enters the vortex, the object takes 2d8 bludgeoning damage; this damage occurs each round it remains in the vortex.",
  "tags": [
    "transmutation",
    "environmental",
    "control",
    "area_of_effect"
  ],
  "related_search_terms": [
    "water spell",
    "terrain manipulation",
    "aquatic spell",
    "liquid control",
    "elemental magic"
  ]
}